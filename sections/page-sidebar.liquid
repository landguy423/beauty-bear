<div class="grid">
  {% if section.blocks.size > 0 %}
  <div class="grid__item one-quarter">
    {% for block in section.blocks %}
      {% if block.type == 'menu' %}
        {% assign sidebar_menu = linklists[block.settings.custom_menu_linklist] %}
        {% if sidebar_menu != blank %}
          <ul class="sidebar_list">
            {% for link in sidebar_menu.links %}
            <li>
              <h4><a {% if link.active or link.child_active %}class="active"{% endif %} href="{{ link.url }}">{{ link.title }}</a></h4>
            </li>
            {% endfor %}
          </ul>
        {% endif %}
      {% endif %}
    {% endfor %}
  </div>
  <div class="grid__item three-quarters">
  {% else %}
  <div class="grid__item one-whole">
  {% endif %}
    <div class="section-header page-title">
      <h1 class="text-left">{{ page.title }}</h1>
    </div>
    <div class="rte">
      {{ page.content }}
    </div>
  </div>
</div>
{% schema %}
{
  "name": "Sidebar",
  "class": "sidebar-section",
  "settings": [
    {
      "type": "paragraph",
      "content": "Create a sidebar by adding content blocks."
    }
  ],
  "blocks": [
    {
      "type": "menu",
      "name": "Menu",
      "settings": [
        {
          "type": "link_list",
          "id": "custom_menu_linklist",
          "label": "Menu"
        }
      ]
    }
  ]
}
{% endschema %}
